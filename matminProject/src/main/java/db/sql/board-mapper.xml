<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>

		<entry key="selectListCount">
			SELECT 
			       COUNT(*) BOARD_COUNT
			  FROM BOARD
			 WHERE BOARD_STATUS = 'Y'
		</entry>
		
		
		<entry key="selectBoardList">
			SELECT *
				 	 FROM
				   		(SELECT ROWNUM RNUM, A.*
						   FROM
						        (SELECT
						                CAST(SUBSTR(BOARD_NO, 2) AS NUMBER) "BOARD_NO"
						              , BOARD_TYPE
						           	  , BOARD_TITLE
						              , NICKNAME
						              , BOARD_COUNT
						              , TO_CHAR(BOARD_DATE, 'YYYY.MM.DD') "BOARD_DATE"
						           FROM BOARD 
						           JOIN MEMBER ON (BOARD_WRITER = MEM_NO)
						          WHERE BOARD_STATUS = 'Y'
						          ORDER 
						             BY 
						                TO_NUMBER(REGEXP_REPLACE(BOARD_NO, '[^0-9]+', '')) DESC
						    ) A
						)
			 WHERE RNUM BETWEEN ? AND ?
		</entry>
		
		<entry key="insertBoard">
			 INSERT 
			        INTO BOARD
			        (
			          BOARD_NO
                    , REST_NAME
                    , REST_ADDRESS
			        , BOARD_WRITER
			        , BOARD_TYPE
			        , BOARD_TITLE
			        , BOARD_CONTENT
			        )
			        VALUES
			        (
			          'B'||SEQ_BNO.NEXTVAL
			        , ?
			        , ?
			        , ?
			        , ?
                    , ?
                    , ?
			        )
		</entry>
		
		<entry key="insertBImgFile">
			INSERT 
			       INTO IMG_FILE
			       (
			         IMG_FILE_NO
			       , REF_NO
			       , IMG_ORIGIN_NAME
			       , IMG_CHANGE_NAME
			       , IMG_FILE_PATH
			       )
			       VALUES
			       (
			         'F'||SEQ_FNO.NEXTVAL
			       , 'B'||SEQ_BNO.CURRVAL
			       , ?
			       , ?
			       , ?
			       )
		
		</entry>

		<entry key="increaseCount">
		UPDATE 
		       BOARD
		   SET BOARD_COUNT = BOARD_COUNT + 1
		 WHERE BOARD_NO = ?
		   AND BOARD_STATUS = 'Y'
		</entry>
		
		<entry key="selectBoard">
		SELECT 
			   BOARD_NO
		     , NICKNAME
		     , BOARD_TYPE
		     , BOARD_TITLE
		     , BOARD_CONTENT
		     , TO_CHAR(BOARD_DATE, 'YYYY.MM.DD') "BOARD_DATE"
		     , REST_NAME
		     , REST_ADDRESS
		  FROM BOARD
		  JOIN MEMBER ON (BOARD_WRITER = MEM_NO) 
		 WHERE BOARD_NO = ?
		</entry>
		
		<entry key="selectImgFile">
		SELECT 
		       IMG_FILE_NO
		     , IMG_ORIGIN_NAME
		     , IMG_CHANGE_NAME
		     , IMG_FILE_PATH
		  FROM IMG_FILE
		 WHERE REF_NO = ?
		
		</entry>
		
		<entry key="updateBoard">
		UPDATE 
			   BOARD
		   SET REST_NAME = ?
		     , REST_ADDRESS = ?
		     , BOARD_CONTENT = ?
		 WHERE BOARD_NO = ?
		</entry>
		
		<entry key="updateImgFile">
		 UPDATE 
		        IMG_FILE
		    SET IMG_ORIGIN_NAME = ?
		      , IMG_CHANGE_NAME = ?
		      , IMG_FILE_PATH = ?
		  WHERE IMG_FILE_NO = ?
		</entry>
		
		<entry key="insertUpdateImgFile">
			INSERT 
			       INTO IMG_FILE
			       (
			         IMG_FILE_NO
			       , REF_NO
			       , IMG_ORIGIN_NAME
			       , IMG_CHANGE_NAME
			       , IMG_FILE_PATH
			       )
			       VALUES
			       (
			         'F'||SEQ_FNO.NEXTVAL
			       , ?
			       , ?
			       , ?
			       , ?
			       )
		
		</entry>
		
		<entry key="deleteBoard">
			UPDATE BOARD
			   SET BOARD_STATUS = 'N'
			 WHERE BOARD_NO = ?
		</entry>
</properties>